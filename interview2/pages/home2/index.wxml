<view class="page-header">
  <view class="page-title">首页</view>
</view>

<scroll-view
  scroll-y
  class="out-container"
  enhanced
  show-scrollbar="{{false}}"
  bounces="{{true}}"
>
<view class="home-container">
  <!-- 用户信息栏 -->
  <view class="user-info-section">
    <view class="user-info-left">
      <view class="greeting">下午好, <text class="user-name">张同学</text></view>
      <view class="recommend-text">今日推荐{{recommendedInterviews.length}}个训练</view>
    </view>
  </view>

  <!-- 搜索框 -->
  <view class="search-section">
    <view class="search-box">
      <t-icon name="search" size="16" color="#9ca3af" />
      <input 
        type="text" 
        placeholder="搜索岗位类型..." 
        class="search-input"
        bindinput="onSearchInput"
        bindconfirm="onSearchConfirm"
      />
    </view>
  </view>

  <!-- 核心功能导航 -->
  <view class="feature-section">
    <!-- AI面试主按钮 -->
    <view class="main-feature-btn" bindtap="onFeatureClick" data-name="AI模拟面试">
      <view class="feature-left">
        <view class="feature-icon main-icon">
          <t-icon name="chat" size="20" color="#ffffff" />
        </view>
        <view class="feature-text">
          <view class="feature-title">AI模拟面试</view>
          <view class="feature-desc">智能对话 · 实时反馈</view>
        </view>
      </view>
      <t-icon name="chevron-right" size="16" color="rgba(255,255,255,0.7)" />
    </view>

    <!-- 第二行双按钮 -->
    <view class="feature-grid">
      <view class="feature-card" bindtap="onFeatureClick" data-name="刷题训练">
        <view class="feature-icon-card blue-icon">
          <t-icon name="lightbulb" size="24" color="#6366f1" />
        </view>
        <view class="feature-card-title">刷题训练</view>
        <view class="feature-card-desc">500+题库</view>
      </view>
      <view class="feature-card" bindtap="onFeatureClick" data-name="简历优化">
        <view class="feature-icon-card purple-icon">
          <t-icon name="file" size="24" color="#8b5cf6" />
        </view>
        <view class="feature-card-title">简历优化</view>
        <view class="feature-card-desc">AI分析</view>
      </view>
    </view>

    <!-- 面试报告按钮 -->
    <view class="report-btn" bindtap="onFeatureClick" data-name="面试报告">
      <view class="feature-left">
        <view class="feature-icon green-icon">
          <t-icon name="chart" size="20" color="#10b981" />
        </view>
        <view class="feature-text">
          <view class="feature-title">面试报告</view>
          <view class="feature-desc">历史记录分析</view>
        </view>
      </view>
      <t-icon name="chevron-right" size="16" color="#9ca3af" />
    </view>
  </view>

  <!-- 热门岗位推荐 -->
  <view class="recommend-section">
    <view class="section-title">热门面试推荐</view>
    <view class="recommend-list">
      
      <!-- 使用 wx:for 循环动态生成推荐卡片 -->
      <view 
        wx:for="{{recommendedInterviews}}" 
        wx:key="id" 
        class="recommend-card" 
        bindtap="navigateToInterviewSetting" 
        data-id="{{item.id}}"
      >
        <view class="card-icon {{item.bgColor}}">
          <t-icon name="{{item.icon}}" size="24" color="{{item.iconColor}}" />
        </view>
        <view class="card-content">
          <view class="card-header">
            <view class="card-title">{{item.title}}</view>
            <view class="hot-tag {{item.bgColor}}-tag">{{item.hotness}}</view>
          </view>
          <view class="card-desc">{{item.desc}}</view>
          <view class="card-tags">
            <view wx:for="{{item.tags}}" wx:for-item="tag" wx:key="*this" class="tag">{{tag}}</view>
          </view>
        </view>
      </view>

    </view>
  </view>
</view>
</scroll-view>